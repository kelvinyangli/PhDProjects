---
title: "mml87_logit"
author: "kl"
date: "11 July 2017"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(bnlearn)
library(gtools)
library(lglbnlearn)
```

## Estimating logit parameters using the glm() function

## Search

## Execution 
```{r}
dag = randDag(15, 3)
cpts =randCPTs(dag, 2, 1)
sampleSize = 10000
data = rbn(cpts, sampleSize)
y = "V1"
#x = c("V2", "V3")
x = c()
yIndex = which(names(data) == y)
xIndices = which(names(data) %in% x)
arities = sapply(data, nlevels)
names(arities) = c()
dataNumeric = factor2numeric(data)
vars = names(data)
mml_logit(data, arities, sampleSize, x, y)

forward_greedy(data, arities, vars, sampleSize, y, score = mml_logit, dataNumeric = dataNumeric, debug = T)
# fim
# log(det(fim))
# logDeterminant(fim)*2
```

